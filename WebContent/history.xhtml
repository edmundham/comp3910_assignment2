<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">

<head>
    <title>#{msgs.history_title}</title>
</head>

<body>
	<ui:composition template="/templates/masterLayout.xhtml">
		<ui:define name="windowTitle">
			#{msgs.history_title}
		</ui:define>
		<ui:define name="pageTitle">
			#{msgs.history_title}
		</ui:define>
		<ui:define name="content">
			
            <h3>#{msgs.history_title}</h3>
                <p:accordionPanel dynamic="true" cache="true" multiple="true"
                                  value="#{timesheetApplication.getHistoryTimesheets(employeeApplication.currentEmployee)}"
                                  var="employeeTimesheet">
                    <p:tab title="#{employeeTimesheet.startWeek} - #{employeeTimesheet.endWeek}">
                        <h:panelGrid columns="2" cellpadding="10">
                            <p:dataTable var="detail" value="#{timesheetApplication.getHistoryTimesheetRows(employeeTimesheet)}">
                                <p:column headerText="#{msgs.project_id}">
                                    <h:outputText value="#{detail.projectId}"/>
                                </p:column>
                                <p:column headerText="#{msgs.work_package}">
                                    <h:outputText value="#{detail.workPackageId}"/>
                                </p:column>
                                <p:column headerText="#{msgs.total}" footerText="#{timesheetApplication.getSumOfTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{timesheetApplication.getSum(detail)}"/>
                                </p:column>
                                <p:column headerText="#{msgs.sat}" footerText="#{timesheetApplication.getSaturdaySumByTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{detail.saturday}"/>
                                </p:column>
                                <p:column headerText="#{msgs.sun}" footerText="#{timesheetApplication.getSundaySumByTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{detail.sunday}"/>
                                </p:column>
                                <p:column headerText="#{msgs.mon}" footerText="#{timesheetApplication.getMondaySumByTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{detail.monday}"/>
                                </p:column>
                                <p:column headerText="#{msgs.tue}" footerText="#{timesheetApplication.getTuesdaySumByTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{detail.tuesday}"/>
                                </p:column>
                                <p:column headerText="#{msgs.wed}" footerText="#{timesheetApplication.getWednesdaySumByTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{detail.wednesday}"/>
                                </p:column>
                                <p:column headerText="#{msgs.thu}" footerText="#{timesheetApplication.getThursdaySumByTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{detail.thursday}"/>
                                </p:column>
                                <p:column headerText="#{msgs.fri}" footerText="#{timesheetApplication.getFridaySumByTimesheet(employeeTimesheet)}">
                                    <h:outputText value="#{detail.friday}"/>
                                </p:column>
                                <p:column headerText="#{msgs.note}">
                                    <h:outputText value="#{detail.notes}"/>
                                </p:column>
                                
                            </p:dataTable>
                        </h:panelGrid>
                    </p:tab>
                </p:accordionPanel>
            
		</ui:define>
	</ui:composition>
</body>
</html>